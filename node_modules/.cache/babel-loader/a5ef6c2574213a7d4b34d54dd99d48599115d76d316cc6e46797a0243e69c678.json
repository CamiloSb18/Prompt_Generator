{"ast":null,"code":"import React,{useState}from'react';import{getStories,clearStories}from'../utils/storage';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const SavedStories=_ref=>{let{onGenerateBatch}=_ref;const[isCopied,setIsCopied]=useState(false);const stories=getStories();const handleGenerateBatch=()=>{const batchPrompt=stories.map(story=>story.prompt).join('\\n\\n---\\n\\n');onGenerateBatch(batchPrompt);};const handleCopyBatch=async()=>{const batchPrompt=stories.map(story=>story.prompt).join('\\n\\n---\\n\\n');await navigator.clipboard.writeText(batchPrompt);setIsCopied(true);setTimeout(()=>setIsCopied(false),2000);};const handleClearStories=()=>{clearStories();onGenerateBatch('');};if(stories.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-white rounded-lg shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 flex justify-between items-center border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-medium text-gray-800\",children:[\"Historias guardadas (\",stories.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClearStories,className:\"px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors\",children:\"Limpiar todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateBatch,className:\"px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors\",children:\"Generar lote\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyBatch,className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors\",children:isCopied?'¡Copiado!':'Copiar lote'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:stories.map((story,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"py-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:story.name||'Historia sin nombre'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(story.date).toLocaleString()})]})})},index))})})]});};export default SavedStories;","map":{"version":3,"names":["React","useState","getStories","clearStories","jsxs","_jsxs","jsx","_jsx","SavedStories","_ref","onGenerateBatch","isCopied","setIsCopied","stories","handleGenerateBatch","batchPrompt","map","story","prompt","join","handleCopyBatch","navigator","clipboard","writeText","setTimeout","handleClearStories","length","className","children","onClick","index","name","Date","date","toLocaleString"],"sources":["/Users/kushki/Downloads/PromptGenerator/src/components/SavedStories.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { getStories, clearStories } from '../utils/storage';\n\nconst SavedStories = ({ onGenerateBatch }) => {\n  const [isCopied, setIsCopied] = useState(false);\n  const stories = getStories();\n\n  const handleGenerateBatch = () => {\n    const batchPrompt = stories.map(story => story.prompt).join('\\n\\n---\\n\\n');\n    onGenerateBatch(batchPrompt);\n  };\n\n  const handleCopyBatch = async () => {\n    const batchPrompt = stories.map(story => story.prompt).join('\\n\\n---\\n\\n');\n    await navigator.clipboard.writeText(batchPrompt);\n    setIsCopied(true);\n    setTimeout(() => setIsCopied(false), 2000);\n  };\n\n  const handleClearStories = () => {\n    clearStories();\n    onGenerateBatch('');\n  };\n\n  if (stories.length === 0) return null;\n\n  return (\n    <div className=\"mt-6 bg-white rounded-lg shadow-sm overflow-hidden\">\n      <div className=\"bg-gray-50 px-4 py-3 flex justify-between items-center border-b border-gray-200\">\n        <h2 className=\"font-medium text-gray-800\">Historias guardadas ({stories.length})</h2>\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={handleClearStories}\n            className=\"px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors\"\n          >\n            Limpiar todo\n          </button>\n          <button\n            onClick={handleGenerateBatch}\n            className=\"px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors\"\n          >\n            Generar lote\n          </button>\n          <button\n            onClick={handleCopyBatch}\n            className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors\"\n          >\n            {isCopied ? '¡Copiado!' : 'Copiar lote'}\n          </button>\n        </div>\n      </div>\n      <div className=\"p-4\">\n        <ul className=\"divide-y divide-gray-200\">\n          {stories.map((story, index) => (\n            <li key={index} className=\"py-2\">\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <h3 className=\"font-medium\">{story.name || 'Historia sin nombre'}</h3>\n                  <p className=\"text-sm text-gray-500\">\n                    {new Date(story.date).toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default SavedStories;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}